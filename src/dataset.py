import pandas as pd
import json
from collections import Counter

def get_feature_header(fpath):
    
    with open(fpath) as f:
        data = json.load(f)
        return data 
    
def load_data(savepath,featureheaders,targethearders,nrows=None):
    
    dataset = pd.read_csv(savepath,header = 0,nrows =nrows)
    
    x = dataset[featureheaders]
    y = dataset[targethearders]
    return x.values,y.values.reshape((len(y.values),))

def get_class_weights(y):
    counter = Counter(y)
    majority = max(counter.values())
    return  {cls: round(float(majority)/float(count), 2) for cls, count in counter.items()}
